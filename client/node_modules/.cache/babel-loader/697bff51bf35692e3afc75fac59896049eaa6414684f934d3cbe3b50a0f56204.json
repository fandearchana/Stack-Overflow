{"ast":null,"code":"import _slicedToArray from\"C:/Users/Archana/ReactProject/StackOverflowClone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch}from'react-redux';import'./UserProfile.css';import{updateProfile}from'../../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfileForm=function EditProfileForm(_ref){var _currentUser$result,_currentUser$result2;var currentUser=_ref.currentUser,setSwitch=_ref.setSwitch;var _useState=useState(currentUser===null||currentUser===void 0?void 0:(_currentUser$result=currentUser.result)===null||_currentUser$result===void 0?void 0:_currentUser$result.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(currentUser===null||currentUser===void 0?void 0:(_currentUser$result2=currentUser.result)===null||_currentUser$result2===void 0?void 0:_currentUser$result2.about),_useState4=_slicedToArray(_useState3,2),about=_useState4[0],setAbout=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var dispatch=useDispatch();var handleSubmit=function handleSubmit(e){e.preventDefault();if(tags[0]===\"\"||tags.length===0){var _currentUser$result3;dispatch(updateProfile(currentUser===null||currentUser===void 0?void 0:currentUser.result._id,{name:name,about:about,tags:currentUser===null||currentUser===void 0?void 0:(_currentUser$result3=currentUser.result)===null||_currentUser$result3===void 0?void 0:_currentUser$result3.tags}));}else{dispatch(updateProfile(currentUser===null||currentUser===void 0?void 0:currentUser.result._id,{name:name,about:about,tags:tags}));}setSwitch(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"edit-profile-title\",children:\" Edit Your Profile\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"edit-profile-title-2\",children:\" Public information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-profile-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"name\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Display Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"about\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"About me\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"about\",cols:\"30\",rows:\"10\",value:about,onChange:function onChange(e){return setAbout(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"tag\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"watched tags\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add tags separated by 1 space\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"tag\",onChange:function onChange(e){return setTags(e.target.value.split(' '));}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Save profile\",className:\"user-submit-btn\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"user-cancel-btn\",onClick:function onClick(){return setSwitch(false);},children:\"Cancel\"})]})]});};export default EditProfileForm;","map":{"version":3,"names":["React","useState","useDispatch","updateProfile","jsx","_jsx","jsxs","_jsxs","EditProfileForm","_ref","_currentUser$result","_currentUser$result2","currentUser","setSwitch","_useState","result","name","_useState2","_slicedToArray","setName","_useState3","about","_useState4","setAbout","_useState5","_useState6","tags","setTags","dispatch","handleSubmit","e","preventDefault","length","_currentUser$result3","_id","children","className","onSubmit","htmlFor","type","value","onChange","target","id","cols","rows","split","onClick"],"sources":["C:/Users/Archana/ReactProject/StackOverflowClone/client/src/Pages/UserProfile/EditProfileForm.jsx"],"sourcesContent":["import React ,{useState} from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport './UserProfile.css'\r\nimport { updateProfile } from '../../api';\r\n\r\nconst EditProfileForm = ({currentUser ,setSwitch}) => {\r\n    const [ name , setName] = useState(currentUser?.result?.name);\r\n    const [ about , setAbout] = useState(currentUser?.result?.about);\r\n    const [ tags , setTags] = useState([]);    \r\n    const dispatch = useDispatch();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(tags[0] === \"\" || tags.length === 0 ){\r\n            dispatch (updateProfile( currentUser?.result._id, {name ,about, tags:currentUser?.result?.tags}))\r\n        } else{\r\n            dispatch (updateProfile( currentUser?.result._id, {name ,about, tags}))\r\n        }\r\n        setSwitch(false)\r\n    }\r\n  return (\r\n    <div>\r\n        <h1 className='edit-profile-title'> Edit Your Profile</h1>\r\n        <h2 className='edit-profile-title-2'> Public information</h2>\r\n        <form className='edit-profile-form' onSubmit = { handleSubmit }>\r\n            <label htmlFor='name'>\r\n                <h3>Display Name</h3>\r\n                <input type ='text' value= { name } onChange= {(e) => setName(e.target.value)}/>\r\n            </label>\r\n            <label htmlFor='about'>\r\n                <h3>About me</h3>\r\n                <textarea id='about' cols= '30' rows= '10' value= {about} onChange={(e) => setAbout(e.target.value)}></textarea>\r\n            </label>\r\n            <label htmlFor='tag'>\r\n                <h3>watched tags</h3>\r\n                <p>Add tags separated by 1 space</p>\r\n                <input type='text' id='tag' onChange={(e) => setTags(e.target.value.split(' '))}/>\r\n            </label>\r\n            <br/>\r\n                <input type='submit' value= 'Save profile' className='user-submit-btn'/>\r\n                <button type='button' className='user-cancel-btn' onClick={() => setSwitch(false)}>Cancel</button>            \r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditProfileForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
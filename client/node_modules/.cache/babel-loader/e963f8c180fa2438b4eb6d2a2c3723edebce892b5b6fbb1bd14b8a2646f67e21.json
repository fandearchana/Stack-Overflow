{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{jwtDecode}from\"jwt-decode\";import logo from'../../assets/logo.png';import Search from'../../assets/search.svg';import'./Navbar.css';import Avatar from'../Avatar/Avatar';import{setCurrentUser}from'../../actions/currentUser.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _User$result;var dispatch=useDispatch();var navigate=useNavigate();var User=useSelector(function(state){return state.currentUserReducer;});var handleLogOut=function handleLogOut(){dispatch({type:'LOGOUT'});navigate('/');dispatch(setCurrentUser(null));};useEffect(function(){var token=User===null||User===void 0?void 0:User.token;if(token){var decodedToken=jwtDecode(token);if(decodedToken.exp*1000<new Date().getTime()){handleLogOut();}}dispatch(setCurrentUser(JSON.parse(localStorage.getItem('Profile'))));},[User===null||User===void 0?void 0:User.token,dispatch]);return/*#__PURE__*/_jsx(\"nav\",{className:\"Main-nav-div\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",width:\"150\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-content\",children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-content\",children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-item nav-content\",children:\"For Teams\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"nav-form\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"search-icon\",src:Search,alt:\"\",width:\"18\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:\"Search...\"})]}),User===null?/*#__PURE__*/_jsx(Link,{to:\"/Auth\",className:\"nav-item nav-Link\",children:\"Log in \"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Avatar,{backgroundColor:\"#009dff\",px:\"9px\",py:\"2px\",borderRadius:\"50%\",color:\"white\",children:/*#__PURE__*/_jsx(Link,{to:\"/Users/\".concat(User===null||User===void 0?void 0:(_User$result=User.result)===null||_User$result===void 0?void 0:_User$result._id),style:{color:\"white\",textDecoration:\"none\"},children:User.result.name.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-item nav-Link\",style:{marginLeft:\"6px\"},onClick:handleLogOut,children:\"Log out\"})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useEffect","Link","useNavigate","useSelector","useDispatch","jwtDecode","logo","Search","Avatar","setCurrentUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_User$result","dispatch","navigate","User","state","currentUserReducer","handleLogOut","type","token","decodedToken","exp","Date","getTime","JSON","parse","localStorage","getItem","className","children","to","src","alt","width","placeholder","backgroundColor","px","py","borderRadius","color","concat","result","_id","style","textDecoration","name","charAt","toUpperCase","marginLeft","onClick"],"sources":["C:/Users/Archana/ReactProject/StackOverflowClone/client/src/components/Navbar/Navbar.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Link , useNavigate } from 'react-router-dom'\r\nimport {useSelector ,useDispatch} from 'react-redux'\r\nimport {jwtDecode}  from \"jwt-decode\";\r\n\r\nimport logo from '../../assets/logo.png'\r\nimport  Search from '../../assets/search.svg'\r\nimport './Navbar.css'\r\nimport Avatar from '../Avatar/Avatar'\r\nimport { setCurrentUser } from '../../actions/currentUser.js'\r\n\r\nconst Navbar = () => {\r\n    const dispatch = useDispatch()  \r\n    const navigate = useNavigate()\r\n    var User = useSelector((state) => (state.currentUserReducer));\r\n\r\n    const handleLogOut  =() =>{\r\n      dispatch ({ type: 'LOGOUT'});\r\n      navigate('/');\r\n      dispatch(setCurrentUser(null));\r\n    };\r\n    \r\n    useEffect(()=>{         \r\n          const token = User?.token;\r\n          if ( token ) {\r\n            const decodedToken = jwtDecode( token )\r\n            if (decodedToken.exp * 1000 < new Date().getTime())\r\n            {\r\n              handleLogOut();\r\n            }\r\n          }\r\n          dispatch (setCurrentUser(JSON.parse(localStorage.getItem('Profile'))))\r\n        }, [User?.token, dispatch])\r\n\r\n  return (\r\n    <nav className='Main-nav-div'>\r\n       <div className='navbar'>\r\n        <Link to='/' className='nav-item nav-logo'>\r\n        <img src={logo} alt='logo' width='150'/>\r\n        </Link>\r\n        <Link to='/' className='nav-item nav-content'>About</Link>\r\n        <Link to='/' className='nav-item nav-content'>Products</Link>\r\n        <Link to='/' className='nav-item nav-content'>For Teams</Link>\r\n        <form className='nav-form'>\r\n            <img className='search-icon' src={Search} alt='' width='18'/>\r\n            <input type='text' className='search-input' placeholder='Search...'></input>\r\n        </form>        \r\n            {\r\n                User === null?\r\n                <Link to='/Auth' className='nav-item nav-Link'>Log in </Link>:\r\n                <>\r\n                <Avatar backgroundColor='#009dff' px=\"9px\" py=\"2px\"  borderRadius=\"50%\" color='white'>\r\n                  <Link to = {`/Users/${User?.result?._id}`} style={{color:\"white\",  textDecoration:\"none\"}}>{User.result.name.charAt(0).toUpperCase()}</Link></Avatar>\r\n                <button className='nav-item nav-Link' style={{marginLeft:\"6px\"}} onClick={ handleLogOut }>Log out</button>\r\n                </>\r\n            }       \r\n      </div>\r\n    </nav>\r\n    \r\n  )\r\n}\r\n\r\nexport default Navbar"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
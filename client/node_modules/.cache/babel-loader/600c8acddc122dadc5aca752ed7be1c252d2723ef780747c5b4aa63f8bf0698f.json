{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import moment from'moment';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import Avatar from'../../components/Avatar/Avatar';import{deleteAnswer}from'../../actions/question.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DisplayAnswer=function DisplayAnswer(_ref){var question=_ref.question,handleShare=_ref.handleShare;var _useParams=useParams(),id=_useParams.id;var User=useSelector(function(state){return state.currentUserReducer;});var dispatch=useDispatch();// const navigate= useNavigate();\nvar handleDelete=function handleDelete(answerId,noOfAnswers){dispatch(deleteAnswer(id,answerId,noOfAnswers-1));};return/*#__PURE__*/_jsx(\"div\",{children:question.answer.map(function(ans){var _User$result;return/*#__PURE__*/_jsxs(\"div\",{className:\"display-ans\",children:[/*#__PURE__*/_jsx(\"p\",{children:ans.answerBody}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-action-uesr\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"display-ans-btn\",onClick:handleShare,children:\"Share\"}),(User===null||User===void 0?void 0:(_User$result=User.result)===null||_User$result===void 0?void 0:_User$result._id)===(ans===null||ans===void 0?void 0:ans.userId)&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleDelete(ans._id,question.noOfAnswers);},children:\"Delete\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"answered \",moment(ans.answerdOn).fromNow()]}),/*#__PURE__*/_jsxs(Link,{to:\"/Users/\".concat(ans.userId),className:\"user-link\",style:{color:'#0086d8'},children:[/*#__PURE__*/_jsx(Avatar,{backgroundColor:\"green\",px:\"8px\",py:\"5px\",borderRadius:\"3px\",children:ans.userAnswerd.charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{children:ans.userAnswerd})]})]})]})]},ans._id);})});};export default DisplayAnswer;","map":{"version":3,"names":["React","Link","moment","useDispatch","useSelector","useParams","Avatar","deleteAnswer","jsx","_jsx","jsxs","_jsxs","DisplayAnswer","_ref","question","handleShare","_useParams","id","User","state","currentUserReducer","dispatch","handleDelete","answerId","noOfAnswers","children","answer","map","ans","_User$result","className","answerBody","type","onClick","result","_id","userId","answerdOn","fromNow","to","concat","style","color","backgroundColor","px","py","borderRadius","userAnswerd","charAt","toUpperCase"],"sources":["C:/Users/Archana/ReactProject/StackOverflowClone/client/src/Pages/Questions/DisplayAnswer.jsx"],"sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport Avatar from '../../components/Avatar/Avatar'\r\nimport { deleteAnswer } from '../../actions/question.js'\r\n\r\nconst DisplayAnswer = ({question, handleShare}) => {\r\n \r\n    const { id } = useParams()\r\n    const User = useSelector((state) => (state.currentUserReducer)) \r\n    const dispatch= useDispatch();\r\n// const navigate= useNavigate();\r\n\r\nconst handleDelete = (answerId , noOfAnswers) => {\r\n    dispatch(deleteAnswer(id ,answerId , noOfAnswers - 1))\r\n}\r\n\r\n  return (\r\n    <div >\r\n        {\r\n            question.answer.map((ans)=>(\r\n                <div className=\"display-ans\" key={ans._id}>\r\n                    <p>{ans.answerBody}</p>\r\n                    <div className=\"question-action-uesr\">\r\n                            <div>\r\n                                <button type='button' className='display-ans-btn' onClick = { handleShare }>Share</button>\r\n                                {\r\n                                            User?.result?._id === ans?.userId && (\r\n                                            <button type='button' onClick={() => handleDelete(ans._id, question.noOfAnswers )}>Delete</button> \r\n                                            )\r\n                                         }       \r\n                            </div>\r\n                            <div>\r\n                                <p>answered {moment(ans.answerdOn).fromNow()}</p>\r\n                                <Link to={`/Users/${ans.userId}`} className='user-link' style={{color:'#0086d8'}}>\r\n                                    <Avatar backgroundColor='green' px='8px' py='5px' borderRadius=\"3px\">\r\n                                      {ans.userAnswerd.charAt(0).toUpperCase()} \r\n                                    </Avatar>\r\n                                    <div>\r\n                                       {ans.userAnswerd}\r\n                                    </div>\r\n                                </Link>\r\n                            </div>                        \r\n                    </div>\r\n                </div>\r\n            ))\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DisplayAnswer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}